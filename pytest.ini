[pytest]
testpaths = skills tests
pythonpath = . skills/shared/tests/live_integration
addopts = -v --tb=short --import-mode=importlib

markers =
    # Environment markers
    unit: Unit tests (fast, no external dependencies)
    integration: Integration tests (may require setup)
    live: Live tests against real gitlab instance
    e2e: End-to-end tests with Claude Code
    docker_required: Requires Docker

    # Characteristic markers
    slow: Slow tests (>10s)
    fast: Fast tests (<1s)
    flaky: Tests that may fail intermittently
    destructive: Tests that modify state
    readonly: Tests that only read data

    # Feature markers
    search: Search functionality tests
    crud: Create/Read/Update/Delete tests
    bulk: Bulk operation tests
    auth: Authentication tests

    # Priority markers
    critical: Critical path tests
    smoke: Smoke tests for quick validation

    # Risk markers
    safe: Safe operations (no side effects)
    caution: Operations that modify single items
    warning: Bulk/destructive operations

    # Skill markers
    gitlab_assistant: Hub/router skill tests
